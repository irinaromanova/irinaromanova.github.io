(function(){var btnPrev=document.querySelector(".promo-slider-arrow-prew"),btnNext=document.querySelector(".promo-slider-arrow-next");var images=document.querySelectorAll(".promo-slider-item");var pointsArray=document.querySelectorAll(".promo-slider-control");var counter=1;btnNext.disabled=true;btnPrev.addEventListener("click",function(){images[counter].classList.remove("shown");pointsArray[counter].classList.remove("promo-slider-control-current");counter--;images[counter].classList.add("shown");pointsArray[counter].classList.add("promo-slider-control-current");btnNext.disabled=false;if(counter===0){btnPrev.disabled=true;}});btnNext.addEventListener("click",function(){images[counter].classList.remove("shown");pointsArray[counter].classList.remove("promo-slider-control-current");counter++;images[counter].classList.add("shown");pointsArray[counter].classList.add("promo-slider-control-current");console.log(btnPrev.disabled);btnPrev.disabled=false;if(counter===images.length-1){btnNext.disabled=true;}});let slideThroughPoints=function(){[].forEach.call(pointsArray,function(point,index){point.addEventListener("click",function(evt){if(index===counter){evt.preventDefault();return;}else{console.log(counter);console.log(pointsArray[index]);console.log(index);console.log(images[index]);pointsArray[counter].classList.remove("promo-slider-control-current");images[counter].classList.remove("shown");counter=index;images[index].classList.add("shown");point.classList.add("promo-slider-control-current");if(counter===images.length-1){btnNext.disabled=true;btnPrev.disabled=false;}else if(counter===0){btnNext.disabled=false;btnPrev.disabled=true;}else{btnNext.disabled=false;btnPrev.disabled=false;}}});});};slideThroughPoints();})();var mapLink=document.querySelector(".open-map");var mapPopup=document.querySelector(".modal-map");var mapClose=mapPopup.querySelector(".modal-close");mapLink.addEventListener("click",function(evt){evt.preventDefault();mapPopup.classList.add("modal-show");});mapClose.addEventListener("click",function(evt){evt.preventDefault();mapPopup.classList.remove("modal-show");});window.addEventListener("keydown",function(evt){if(evt.keyCode===27){evt.preventDefault();if(mapPopup.classList.contains("modal-show")){mapPopup.classList.remove("modal-show");}}});var link=document.querySelector(".button-write-us");var popup=document.querySelector(".write-us-modal");var close=popup.querySelector(".modal-close");var yourName=popup.querySelector(".write-name");var email=popup.querySelector(".write-email");var letterText=popup.querySelector(".write-letter");var isStorageSupport=true;var storageName="";var storageEmail="";try{storageName=localStorage.getItem("yourName");storageEmail=localStorage.getItem("email");}catch(err){isStorageSupport=false;}
link.addEventListener("click",function(evt){evt.preventDefault();popup.classList.add("modal-show");if(storageName||storageEmail){yourName.value=storageName;email.value=storageEmail;letterText.focus();}else{yourName.focus();}});close.addEventListener("click",function(evt){evt.preventDefault();popup.classList.remove("modal-show");popup.classList.remove("modal-error");});popup.addEventListener("submit",function(evt){if(!yourName.value||!email.value){evt.preventDefault();popup.classList.remove("modal-error");popup.offsetWidth=popup.offsetWidth;popup.classList.add("modal-error");}else{if(isStorageSupport){localStorage.setItem("yourName",yourName.value);localStorage.setItem("email",email.value);}}});window.addEventListener("keydown",function(evt){if(evt.keyCode===27){evt.preventDefault();if(popup.classList.contains("modal-show")){popup.classList.remove("modal-show");popup.classList.remove("modal-error");}}});var buyLink=document.querySelectorAll(".button-buy"),i;var buyPopup=document.querySelector(".added-cart");var buyClose=document.querySelector(".modal-close");var buyCancel=document.querySelector(".button-continue");for(i=0;i<buyLink.length;++i){buyLink[i].addEventListener("click",function(event){event.preventDefault(event);buyPopup.classList.add("cart-modal-show");})}
buyClose.addEventListener("click",function(event){event.preventDefault(event);buyPopup.classList.remove("cart-modal-show");});buyCancel.addEventListener("click",function(event){event.preventDefault(event);buyPopup.classList.remove("cart-modal-show");});window.addEventListener("keydown",function(event){if(event.keyCode==27){if(buyPopup.classList.contains("cart-modal-show")){buyPopup.classList.remove("cart-modal-show");}}});
